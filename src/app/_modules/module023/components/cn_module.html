&nbsp;< <a routerLink="/m022">prev</a> <b>|</b> <a routerLink="/home">Home</a> <b>|</b> <a routerLink="/m024">next</a> >
<h2>023 @HostListener and host Object</h2>
<mat-grid-list cols="2">

  <mat-grid-tile>
    <mat-grid-tile-header>HTML</mat-grid-tile-header>
    <div>
      <label>
        Credit Card Number<br><br>
        <input
          credit-card
          name="credit-card"
          type="text"
          placeholder="Enter credit card number"
        >
      </label>
    </div>
  </mat-grid-tile>

  <mat-grid-tile>
    <mat-grid-tile-header>Whats going on?</mat-grid-tile-header>
    <div>
      <ul>
        <li>
          The <strong>host object</strong> is the element to which the custom directive is bound to,<br>
          in the case of <code>&lt;input <b>credit-card</b>&gt;</code> it is the <i>input</i> Element.
        </li>
        <li>
          Implementation of the <code>credit-card</code> directive<br>
          <code>
            import &#123; Directive, <b>HostListener</b> } from '@angular/core';<br>
            <br>
            @Directive(&#123;<br>
            &nbsp;&nbsp;selector: '[credit-card]'<br>
            })<br>
            export class CreditCardDirective &#123;<br>
            &nbsp;&nbsp;<b>@HostListener</b>('input', ['$event']) onKeyDown(event: KeyboardEvent) &#123;<br>
            &nbsp;&nbsp;&nbsp;&nbsp;const input = event.target as HTMLInputElement;<br>
            &nbsp;&nbsp;&nbsp;&nbsp;let trimmed = input.value.replace(/\s+/g, '');<br>
            &nbsp;&nbsp;&nbsp;&nbsp;if (trimmed.length > 16) &#123;<br>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;trimmed = trimmed.substr(0, 16);<br>
            &nbsp;&nbsp;&nbsp;&nbsp;}<br>
            &nbsp;&nbsp;&nbsp;&nbsp;const numbers = [];<br>
            &nbsp;&nbsp;&nbsp;&nbsp;for (let i = 0; i < trimmed.length; i += 4) &#123;<br>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;numbers.push(trimmed.substr(i, 4));<br>
            &nbsp;&nbsp;&nbsp;&nbsp;}<br>
            &nbsp;&nbsp;&nbsp;&nbsp;input.value = numbers.join(' ');<br>
            &nbsp;&nbsp;}<br>
            }<br>
          </code>
        </li>
      </ul>
    </div>
  </mat-grid-tile>

</mat-grid-list>
